<!-- TESTIMONIALS BASEADOS NA "SUITE" -->
<section class="testimonials-smarttech">
  <div class="tst__bg-blur" aria-hidden="true"></div>

  <div class="tst__inner">
    <!-- COLUNA ESQUERDA -->
    <header class="tst__intro">
      <span class="tst__eyebrow">
        <svg class="tst__eyebrow-icon" viewBox="0 0 64 64" aria-hidden="true">
          <defs>
            <linearGradient id="tst-eyebrow-grad" x1="0" x2="1">
              <stop offset="0%" stop-color="#0E4D7A"/>
              <stop offset="100%" stop-color="#1BB3A7"/>
            </linearGradient>
          </defs>
          <circle cx="32" cy="32" r="28" fill="none" stroke="url(#tst-eyebrow-grad)" stroke-width="4"/>
          <path d="M20 33l7 7 17-17" fill="none" stroke="url(#tst-eyebrow-grad)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Histórias reais
      </span>

      <h2 class="tst__title">
        O que clientes <span class="grad-text">dizem da Smarttech</span>
      </h2>

      <p class="tst__lead">
        Depoimentos de quem já implantou: redução de erros, velocidade no caixa, relatórios que viram decisão e suporte próximo no dia a dia.
      </p>
    </header>

    <!-- COLUNA DIREITA / CANVAS DE CARDS -->
    <div class="tst__canvas" aria-label="Mosaico animado de depoimentos">
      <!-- CARD 1 -->
      <article class="tst-card animate-float observe" style="--rx:0deg; --ry:-8deg; --rz:0deg; top:0; left:0; z-index:5;">
        <div class="tst-card__head">
          <svg class="tst-quote" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h5v5H9v5H4v-5c0-2.76 2.24-5 5-5zm10 0h5v5h-3v5h-5v-5c0-2.76 2.24-5 5-5z" fill="currentColor"/></svg>
          <strong class="tst-card__who">Carla S. — Varejo alimentar</strong>
        </div>
        <p class="tst-card__text">“A automação reduziu erros e deu mais velocidade ao caixa. Os relatórios nos ajudaram a ajustar o mix.”</p>
      </article>

      <!-- CARD 2 -->
      <article class="tst-card animate-float-delayed observe" style="--rx:4deg; --ry:10deg; --rz:-2deg; top:160px; left:220px; z-index:4;">
        <div class="tst-card__head">
          <svg class="tst-quote" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h5v5H9v5H4v-5c0-2.76 2.24-5 5-5zm10 0h5v5h-3v5h-5v-5c0-2.76 2.24-5 5-5z" fill="currentColor"/></svg>
          <strong class="tst-card__who">Rafael M. — Materiais de construção</strong>
        </div>
        <p class="tst-card__text">“Equipe próxima no pós-implantação, resolvendo rápido e orientando melhorias.”</p>
      </article>

      <!-- CARD 3 -->
      <article class="tst-card observe" style="--rx:-2deg; --ry:-6deg; --rz:1deg; top:330px; left:18px; z-index:3;">
        <div class="tst-card__head">
          <svg class="tst-quote" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h5v5H9v5H4v-5c0-2.76 2.24-5 5-5zm10 0h5v5h-3v5h-5v-5c0-2.76 2.24-5 5-5z" fill="currentColor"/></svg>
          <strong class="tst-card__who">Juliana P. — Moda</strong>
        </div>
        <p class="tst-card__text">“Implementação tranquila e dashboards que os gestores realmente usam.”</p>
      </article>

      <!-- CARD 4 (novo) -->
      <article class="tst-card observe" style="--rx:2deg; --ry:4deg; --rz:2deg; top:300px; left:308px; z-index:3;">
        <div class="tst-card__head">
          <svg class="tst-quote" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h5v5H9v5H4v-5c0-2.76 2.24-5 5-5zm10 0h5v5h-3v5h-5v-5c0-2.76 2.24-5 5-5z" fill="currentColor"/></svg>
          <strong class="tst-card__who">Marcelo T. — Atacado</strong>
        </div>
        <p class="tst-card__text">“Integrações fiscais redondas. O suporte nos guiou nos primeiros fechamentos sem dor de cabeça.”</p>
      </article>

      <!-- CARD 5 (novo) -->
      <article class="tst-card observe" style="--rx:-4deg; --ry:-12deg; --rz:2deg; top:10px; right:-6px; z-index:4; width:260px;">
        <div class="tst-card__head">
          <svg class="tst-quote" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 7h5v5H9v5H4v-5c0-2.76 2.24-5 5-5zm10 0h5v5h-3v5h-5v-5c0-2.76 2.24-5 5-5z" fill="currentColor"/></svg>
          <strong class="tst-card__who">Bianca L. — Restaurante</strong>
        </div>
        <p class="tst-card__text">“O módulo de mesas agilizou o salão e o delivery. A operação ficou visível em tempo real.”</p>
      </article>

      <!-- CARD GHOST (decorativo) -->
      <article class="tst-card tst-card--ghost" style="--rx:6deg; --ry:16deg; --rz:-4deg; top:90px; left:260px; z-index:2;">
        <div class="tst-ghostlines">
          <span class="tst-ghostline tst-ghostline--lg"></span>
          <span class="tst-ghostline tst-ghostline--md"></span>
          <span class="tst-ghostline tst-ghostline--sm"></span>
        </div>
      </article>
    </div>
  </div>
</section>

<script>
/* ===== IntersectionObserver: reveal suave ===== */
(() => {
  const items = document.querySelectorAll('.tst-card.observe');
  const io = new IntersectionObserver((entries)=>{
    entries.forEach((e)=>{ if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); }});
  }, { threshold: 0.2 });
  items.forEach((el,i)=>{ el.style.transitionDelay = (i*80)+'ms'; io.observe(el); });
})();

/* ===== Tilt sutil no mouse (aplica no canvas) ===== */
(() => {
  const canvas = document.querySelector('.tst__canvas');
  if(!canvas) return;
  const maxTilt = 6; // graus máximos
  canvas.addEventListener('mousemove', (e)=>{
    const r = canvas.getBoundingClientRect();
    const cx = r.left + r.width/2, cy = r.top + r.height/2;
    const dx = (e.clientX - cx) / (r.width/2);
    const dy = (e.clientY - cy) / (r.height/2);
    const rx = (dy * -maxTilt).toFixed(2)+'deg';
    const ry = (dx *  maxTilt).toFixed(2)+'deg';
    canvas.querySelectorAll('.tst-card').forEach(card=>{
      card.style.setProperty('--rx', rx);
      card.style.setProperty('--ry', ry);
    });
  });
  canvas.addEventListener('mouseleave', ()=>{
    canvas.querySelectorAll('.tst-card').forEach(card=>{
      card.style.setProperty('--rx', '0deg');
      card.style.setProperty('--ry', '0deg');
    });
  });
})();
</script>