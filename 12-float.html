<!-- FLOAT WHATSAPP CHAT — COMPLETO (HTML + CSS + JS) -->
<!-- Cole este bloco antes de </body> -->

<!-- Botão flutuante (fixado no canto) -->
<button class="asm-fab__btn" id="asmFabBtn" aria-label="Abrir chat para WhatsApp">
  <svg viewBox="0 0 24 24" class="asm-fab__icon" aria-hidden="true">
    <defs>
      <linearGradient id="asm-fab-grad" x1="0" x2="1">
        <stop offset="0%" stop-color="#0E4D7A"/>
        <stop offset="100%" stop-color="#1BB3A7"/>
      </linearGradient>
    </defs>
    <path d="M20.52 3.48A11.94 11.94 0 0 0 12 0C5.37 0 0 5.37 0 12c0 2.11.55 4.17 1.6 5.99L0 24l6.2-1.62A11.95 11.95 0 0 0 12 24c6.63 0 12-5.37 12-12 0-3.2-1.25-6.21-3.48-8.52ZM12 22a9.95 9.95 0 0 1-5.08-1.4l-.36-.21-3.56.93.95-3.46-.24-.39A9.95 9.95 0 1 1 22 12 10 10 0 0 1 12 22Zm5.47-7.55c-.3-.15-1.76-.86-2.03-.96-.27-.1-.47-.15-.67.15-.2.29-.77.96-.95 1.16-.18.2-.35.22-.65.07-.3-.15-1.26-.46-2.4-1.45-.89-.79-1.49-1.76-1.66-2.06-.17-.3-.02-.47.13-.62.13-.13.3-.35.45-.53.15-.18.2-.3.3-.5.1-.2.05-.38-.03-.53-.08-.15-.67-1.62-.92-2.22-.24-.58-.49-.5-.67-.5-.17 0-.37-.02-.58-.02-.2 0-.53.08-.81.38-.28.3-1.07 1.05-1.07 2.56s1.1 2.96 1.25 3.17c.15.2 2.17 3.3 5.24 4.63.73.31 1.29.5 1.73.64.73.23 1.39.2 1.91.12.58-.09 1.76-.72 2.01-1.43.25-.71.25-1.32.17-1.45-.08-.13-.27-.2-.57-.35Z" fill="url(#asm-fab-grad)"/>
  </svg>
</button>

<!-- Janela de chat (fixada no canto, acima do botão) -->
<div class="asm-chat" id="asmChat" role="dialog" aria-modal="false" aria-label="Enviar mensagem pelo WhatsApp">
  <div class="asm-chat__head">
    <div class="asm-chat__brand">
      <span class="asm-chat__dot"></span>
      Fale com a América Smarttech
    </div>
    <button class="asm-chat__close" id="asmChatClose" aria-label="Fechar chat">×</button>
  </div>

  <div class="asm-chat__body">
    <textarea class="asm-chat__input" id="asmChatInput" rows="2" placeholder="Digite sua mensagem..."></textarea>
    <button class="asm-chat__send" id="asmChatSend" aria-label="Enviar no WhatsApp">
      Enviar
      <svg viewBox="0 0 24 24" class="asm-chat__sendIcon" aria-hidden="true">
        <path d="M2 21L23 12 2 3v7l15 2-15 2v7z" fill="currentColor"/>
      </svg>
    </button>
  </div>
  <div class="asm-chat__hint">Enter envia • Shift+Enter quebra linha</div>
</div>

<style>
:root{
  --asm-primary:#0E4D7A;
  --asm-accent:#1BB3A7;
  --asm-ink:#0B2238;
  --asm-shadow:0 18px 40px rgba(11,34,56,.18);
  --asm-radius:16px;
}
.asm-fab__btn{
  position: fixed;
  right: 12px;
  bottom: max(12px, env(safe-area-inset-bottom));
  z-index: 9999;
  width: 58px; height: 58px;
  border-radius: 50%;
  background: #fff;
  border: 1px solid rgba(14,77,122,.12);
  box-shadow: 0 14px 32px rgba(7,30,50,.18);
  cursor: pointer;
  transition: transform .2s ease, box-shadow .2s ease;
  padding: 0;
  overflow: hidden;
}
.asm-fab__btn:hover{
  transform: translateY(-2px);
  box-shadow: 0 20px 42px rgba(7,30,50,.24);
}
.asm-fab__icon{
  width: 30px;
  height: 30px;
  display:block;
  margin: 0 auto;
}
.asm-fab__btn .asm-fab__icon{
  position: relative;
  top: 25%;
  transform: translateY(-50%);
}
.asm-chat{
  position: fixed;
  right: 12px;
  bottom: calc(max(12px, env(safe-area-inset-bottom)) + 66px);
  z-index: 9999;
  width: min(360px, calc(100vw - 32px));
  background: rgba(255,255,255,.9);
  backdrop-filter: blur(8px) saturate(1.05);
  -webkit-backdrop-filter: blur(8px) saturate(1.05);
  border: 1px solid rgba(14,77,122,.12);
  border-radius: var(--asm-radius);
  box-shadow: var(--asm-shadow);
  overflow: hidden;
  transform-origin: bottom right;
  transform: scale(.98);
  opacity: 0;
  pointer-events: none;
  transition: transform .2s ease, opacity .2s ease;
}
.asm-chat.is-open{
  transform: scale(1);
  opacity: 1;
  pointer-events: auto;
}
.asm-chat__head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 14px;
  background: linear-gradient(135deg, var(--asm-primary), var(--asm-accent));
  color: #fff;
}
.asm-chat__brand{
  font-weight: 700;
  display:flex;
  align-items:center;
  gap:8px;
}
.asm-chat__dot{
  width:8px;
  height:8px;
  background:#7BE1D6;
  border-radius:50%;
  box-shadow: 0 0 10px rgba(123,225,214,.9);
}
.asm-chat__close{
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: rgba(255,255,255,.15);
  color:#fff;
  border:0;
  cursor:pointer;
  font-size: 20px;
  line-height: 1;
}
.asm-chat__body{
  padding: 12px;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
  align-items: end;
  background: #fff;
}
.asm-chat__input{
  resize: none;
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(14,77,122,.18);
  padding: 12px 12px;
  font: 500 14px/1.4 Inter, system-ui, sans-serif;
  color: var(--asm-ink);
  min-height: 42px;
  max-height: 150px;
  outline: none;
}
.asm-chat__input:focus{
  border-color: var(--asm-accent);
  box-shadow: 0 0 0 3px rgba(27,179,167,.18);
}
.asm-chat__send{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 14px;
  border-radius: 12px;
  border:0;
  cursor:pointer;
  background: linear-gradient(135deg, var(--asm-primary), var(--asm-accent));
  color:#fff;
  font-weight: 800;
  box-shadow: 0 10px 24px rgba(27,179,167,.35);
}
.asm-chat__sendIcon{
  width:18px;
  height:18px;
}
.asm-chat__hint{
  padding: 6px 12px 12px;
  font-size: 12px;
  color:#5a6c7d;
  background:#fff;
}
@media (max-width: 480px){
  .asm-fab__btn{
    right: 10px;
    bottom: max(10px, env(safe-area-inset-bottom));
  }
  .asm-chat{
    right: 10px;
    bottom: calc(max(10px, env(safe-area-inset-bottom)) + 66px);
    width: min(420px, calc(100vw - 20px));
  }
}
</style>

<script>
(function(){
  // TROQUE PELO NÚMERO REAL (apenas dígitos). Ex: Brasil (34) -> 5534XXXXXXXXX
  const WHATSAPP_PHONE = "5534996944108";

  const fabBtn  = document.getElementById('asmFabBtn');
  const chat    = document.getElementById('asmChat');
  const closeBt = document.getElementById('asmChatClose');
  const input   = document.getElementById('asmChatInput');
  const send    = document.getElementById('asmChatSend');

  function openChat(){
    chat.classList.add('is-open');
    setTimeout(()=> input && input.focus(), 60);
  }
  function closeChat(){
    chat.classList.remove('is-open');
  }
  function buildWaUrl(message){
    const base = `https://wa.me/${WHATSAPP_PHONE}`;
    const text = encodeURIComponent(message);
    return `${base}?text=${text}`;
  }
  function sendMessage(){
    const msg = (input?.value || "").trim();
    if(!msg){ input?.focus(); return; }
    window.open(buildWaUrl(msg), '_blank', 'noopener,noreferrer');
  }

  fabBtn?.addEventListener('click', ()=>{
    chat.classList.contains('is-open') ? closeChat() : openChat();
  });
  closeBt?.addEventListener('click', closeChat);
  send?.addEventListener('click', sendMessage);

  // Enter envia; Shift+Enter quebra linha
  input?.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' && !e.shiftKey){
      e.preventDefault(); sendMessage();
    }
  });

  // ESC fecha
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape') closeChat();
  });

  // Placeholder sugestivo
  if(input && !input.value){
    input.placeholder = "Olá! Quero saber mais sobre o sistema";
  }
})();
</script>